class Track
  
  def self.in_session_now
    # Current track schedule
    tracks = {
      1 => [
        ['2013-03-21', '2013-05-31'],
        ['2013-07-08', '2013-09-10'],
        ['2013-09-30', '2013-12-04'],
        ['2014-01-02', '2014-03-07'],
        ['2014-03-31', '2014-05-30']
        ],
      2 => [
        ['2013-03-04', '2013-05-10'],
        ['2013-06-03', '2013-06-28'],
        ['2013-07-08', '2013-08-16'],
        ['2013-09-11', '2013-11-08'],
        ['2013-12-05', '2014-02-14'],
        ['2014-03-10', '2014-05-09'],
        ['2014-06-02', '2014-06-27']
        ],
      3 => [
        ['2013-02-06', '2013-04-15'],
        ['2013-05-13', '2013-06-28'],
        ['2013-07-08', '2013-07-26'],
        ['2013-08-19', '2013-10-18'],
        ['2013-11-12', '2014-01-22'],
        ['2014-02-17', '2014-04-22'],
        ['2014-05-12', '2014-06-27']
        ],
      4 => [
        ['2013-04-16', '2013-06-28'],
        ['2013-07-29', '2013-09-27'],
        ['2013-10-21', '2013-12-20'],
        ['2014-01-23', '2014-03-28'],
        ['2014-04-23', '2014-06-27']
        ]
    }
    
    today = Time.now
    in_now = []
    
    tracks.each do |track_id, dates|
      dates.each do |start_date, end_date|
        in_now.push(track_id) if today.between?(Time.parse(start_date).beginning_of_day, Time.parse(end_date).end_of_day)
      end
    end
    in_now
  end
  
end